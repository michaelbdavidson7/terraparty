[
{"id": 1, "type": "  acme_registration", "properties": [{"name": "", "description": "<div class=\"alert alert-warning\" role=\"alert\">\n<p><strong>NOTE:</strong> All arguments in <code>acme_registration</code> force a new resource if\nchanged.</p>\n</div>", "elementType": "div"}, {"name": "", "description": "<p>The resource takes the following arguments:</p>", "elementType": "p"}, {"name": "account_key_pem", "description": " <strong>(Required)</strong> - The private key used to identity the account.\n", "elementType": "li", "listDepth": 1}, {"name": "email_address", "description": " <strong>(Required)</strong> - The contact email address for the account.\n", "elementType": "li", "listDepth": 1}], "docsUrl": "https://www.terraform.io/docs/providers/acme/r/registration.html", "docType": ""},
{"id": 2, "type": "  acme_certificate", "properties": [{"name": "", "description": "<p>The resource takes the following arguments:</p>", "elementType": "p"}, {"name": "", "description": "<div class=\"alert alert-warning\" role=\"alert\">\n<p><strong>NOTE:</strong> All arguments in <code>acme_certificate</code>, other than\n<code>min_days_remaining</code>, force a new resource when changed.</p>\n</div>", "elementType": "div"}, {"name": "account_key_pem", "description": " <strong>(Required)</strong> - The private key of the account that is\nrequesting the certificate.\n", "elementType": "li", "listDepth": 1}, {"name": "common_name", "description": "The certificate's common name, the primary domain that the\ncertificate will be recognized for. Required when not specifying a CSR.\n", "elementType": "li", "listDepth": 1}, {"name": "subject_alternative_names", "description": "The certificate's subject alternative names,\ndomains that this certificate will also be recognized for. Only valid when not\nspecifying a CSR.\n", "elementType": "li", "listDepth": 1}, {"name": "key_type", "description": "The key type for the certificate's private key. Can be one of:\n<code>P256</code> and <code>P384</code> (for ECDSA keys of respective length) or <code>2048</code>, <code>4096</code>, and\n<code>8192</code> (for RSA keys of respective length). Required when not specifying a\nCSR. The default is <code>2048</code> (RSA key of 2048 bits).\n", "elementType": "li", "listDepth": 1}, {"name": "certificate_request_pem", "description": "A pre-created certificate request, such as one\nfrom <a href=\"/docs/providers/tls/r/cert_request.html\"><code>tls_cert_request</code></a>, or one from an external source,\nin PEM format.  Either this, or the in-resource request options (<code>common_name</code>,\n<code>key_type</code>, and optionally <code>subject_alternative_names</code>) need to be specified.\n", "elementType": "li", "listDepth": 1}, {"name": "dns_challenge", "description": " <strong>(Required)</strong> - The <a href=\"#using-dns-challenges\">DNS challenges</a> to\nuse in fulfilling the request.\n", "elementType": "li", "listDepth": 1}, {"name": "recursive_nameservers", "description": " <strong>(Optional)</strong> - The <a href=\"#manually-specifying-recursive-nameservers-for-propagation-checks\">recursive\nnameservers</a>\nthat will be used to check for propagation of the challenge record. Defaults\nto your system-configured DNS resolvers.\n", "elementType": "li", "listDepth": 1}, {"name": "must_staple", "description": " <strong>(Optional)</strong> Enables the <a href=\"https://letsencrypt.org/docs/integration-guide/#implement-ocsp-stapling\">OCSP Stapling Required</a>\nTLS Security Policy extension. Certificates with this extension must include a\nvalid OCSP Staple in the TLS handshake for the connection to succeed.\nDefaults to <code>false</code>. Note that this option has no effect when using an\nexternal CSR - it must be enabled in the CSR itself.\n", "elementType": "li", "listDepth": 1}, {"name": "", "description": "<div class=\"alert alert-info\" role=\"alert\">\n<p><strong>NOTE:</strong> OCSP stapling requires specific webserver configuration to\nsupport the downloading of the staple from the CA's OCSP endpoints, and should\nbe configured to tolerate prolonged outages of the OCSP service. Consider this\nwhen using <code>must_staple</code>, and only enable it if you are sure your webserver or\nservice provider can be configured correctly.</p>\n</div>", "elementType": "div"}, {"name": "min_days_remaining", "description": " <strong>(Optional)</strong> - The minimum amount of days remaining on the\nexpiration of a certificate before a renewal is attempted. The default is\n<code>30</code>. A value of less than <code>0</code> means that the certificate will never be\nrenewed.\n", "elementType": "li", "listDepth": 1}, {"name": "certificate_p12_password", "description": "<strong>(Optional)</strong> Password to be used when generating\nthe PFX file stored in <a href=\"#certificate_p12\"><code>certificate_p12</code></a>. Defaults to an\nempty string.\n", "elementType": "li", "listDepth": 1}, {"name": "using-dns-challenges", "description": "<h3 id=\"using-dns-challenges\">\n<a class=\"anchor\" href=\"#using-dns-challenges\" name=\"using-dns-challenges\">\u00bb</a>\n  Using DNS challenges\n</h3>", "elementType": "h3"}, {"name": "", "description": "<p>As the usage model of Terraform generally sees it as being run on a different\nserver than a certificate would normally be placed on, the <code>acme_certificate</code>\nresource only supports DNS challenges. This method authenticates certificate\ndomains by requiring the requester to place a TXT record on the FQDNs in the\ncertificate.</p>", "elementType": "p"}, {"name": "", "description": "<p>The ACME provider responds to DNS challenges automatically by utilizing one of\nthe supported DNS challenge providers. Most providers take credentials as\nenvironment variables, but if you would rather use configuration for this\npurpose, you can by specifying <code>config</code> blocks within a\n<a href=\"#dns_challenge\"><code>dns_challenge</code></a> block, along with the <code>provider</code> parameter.</p>", "elementType": "p"}, {"name": "", "description": "<p>For a full list of providers, click <a href=\"/docs/providers/acme/dns_providers/index.html\">here</a>.</p>", "elementType": "p"}, {"name": "", "description": "<p>Example with the <a href=\"/docs/providers/acme/dns_providers/route53.html\">Route 53 provider</a>:</p>", "elementType": "p"}, {"name": "", "description": "<div class=\"highlight\"><pre class=\"highlight hcl\"><code><span class=\"n\">resource</span> <span class=\"s2\">\"acme_certificate\"</span> <span class=\"s2\">\"certificate\"</span> <span class=\"p\">{</span>\n  <span class=\"c1\">#...</span>\n\n  <span class=\"n\">dns_challenge</span> <span class=\"p\">{</span>\n    <span class=\"n\">provider</span> <span class=\"o\">=</span> <span class=\"s2\">\"route53\"</span>\n\n    <span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n      <span class=\"no\">AWS_ACCESS_KEY_ID</span>     <span class=\"o\">=</span> <span class=\"s2\">\"${var.aws_access_key}\"</span>\n      <span class=\"no\">AWS_SECRET_ACCESS_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"${var.aws_secret_key}\"</span>\n      <span class=\"no\">AWS_DEFAULT_REGION</span>    <span class=\"o\">=</span> <span class=\"s2\">\"us-east-1\"</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">#...</span>\n<span class=\"p\">}</span>\n</code></pre></div>", "elementType": "div"}, {"name": "using-variable-files-for-provider-arguments", "description": "<h4 id=\"using-variable-files-for-provider-arguments\">\n<a class=\"anchor\" href=\"#using-variable-files-for-provider-arguments\" name=\"using-variable-files-for-provider-arguments\">\u00bb</a>\n  Using Variable Files for Provider Arguments\n</h4>", "elementType": "h4"}, {"name": "", "description": "<p>Most provider arguments can be suffixed with <code>_FILE</code> to specify that you wish to\nstore that value in a local file. This can be useful if local storage for these\nvalues is desired over configuration as variables or within the environment.</p>", "elementType": "p"}, {"name": "", "description": "<p>Building on the above <a href=\"/docs/providers/acme/dns_providers/route53.html\">Route 53 provider</a> example, the\nfollowing example uses local files to get the access key ID and secret access\nkey.</p>", "elementType": "p"}, {"name": "", "description": "<div class=\"highlight\"><pre class=\"highlight hcl\"><code><span class=\"n\">resource</span> <span class=\"s2\">\"acme_certificate\"</span> <span class=\"s2\">\"certificate\"</span> <span class=\"p\">{</span>\n  <span class=\"c1\">#...</span>\n\n  <span class=\"n\">dns_challenge</span> <span class=\"p\">{</span>\n    <span class=\"n\">provider</span> <span class=\"o\">=</span> <span class=\"s2\">\"route53\"</span>\n\n    <span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n      <span class=\"no\">AWS_ACCESS_KEY_ID_FILE</span>     <span class=\"o\">=</span> <span class=\"s2\">\"/data/secrets/aws_access_key_id\"</span>\n      <span class=\"no\">AWS_SECRET_ACCESS_KEY_FILE</span> <span class=\"o\">=</span> <span class=\"s2\">\"/data/secrets/aws_secret_access_key\"</span>\n      <span class=\"no\">AWS_DEFAULT_REGION</span>         <span class=\"o\">=</span> <span class=\"s2\">\"us-east-1\"</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">#...</span>\n<span class=\"p\">}</span>\n</code></pre></div>", "elementType": "div"}, {"name": "manually-specifying-recursive-nameservers-for-propagation-checks", "description": "<h4 id=\"manually-specifying-recursive-nameservers-for-propagation-checks\">\n<a class=\"anchor\" href=\"#manually-specifying-recursive-nameservers-for-propagation-checks\" name=\"manually-specifying-recursive-nameservers-for-propagation-checks\">\u00bb</a>\n  Manually specifying recursive nameservers for propagation checks\n</h4>", "elementType": "h4"}, {"name": "", "description": "<p>The ACME provider will normally use your system-configured DNS resolvers to\ncheck for propagation of the TXT records before proceeding with the certificate\nrequest. In split horizon scenarios, this check may never succeed, as the\nmachine running Terraform may not have visibility into these public DNS\nrecords.</p>", "elementType": "p"}, {"name": "", "description": "<p>To override this default behavior, supply the <code>recursive_nameservers</code> to use as\na list in <code>host:port</code> form within the <code>dns_challenge</code> block:</p>", "elementType": "p"}, {"name": "", "description": "<div class=\"highlight\"><pre class=\"highlight hcl\"><code><span class=\"n\">resource</span> <span class=\"s2\">\"acme_certificate\"</span> <span class=\"s2\">\"certificate\"</span> <span class=\"p\">{</span>\n  <span class=\"c1\">#...</span>\n\n  <span class=\"n\">recursive_nameservers</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"8.8.8.8:53\"</span><span class=\"p\">]</span>\n\n  <span class=\"n\">dns_challenge</span> <span class=\"p\">{</span>\n    <span class=\"n\">provider</span> <span class=\"o\">=</span> <span class=\"s2\">\"route53\"</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">#...</span>\n<span class=\"p\">}</span>\n</code></pre></div>", "elementType": "div"}, {"name": "using-multiple-primary-dns-providers", "description": "<h4 id=\"using-multiple-primary-dns-providers\">\n<a class=\"anchor\" href=\"#using-multiple-primary-dns-providers\" name=\"using-multiple-primary-dns-providers\">\u00bb</a>\n  Using multiple primary DNS providers\n</h4>", "elementType": "h4"}, {"name": "", "description": "<p>The ACME provider will allow you to configure multiple DNS challenges in the\nevent that you have more than one primary DNS provider.</p>", "elementType": "p"}, {"name": "", "description": "<div class=\"highlight\"><pre class=\"highlight hcl\"><code><span class=\"n\">resource</span> <span class=\"s2\">\"acme_certificate\"</span> <span class=\"s2\">\"certificate\"</span> <span class=\"p\">{</span>\n  <span class=\"c1\">#...</span>\n\n  <span class=\"n\">dns_challenge</span> <span class=\"p\">{</span>\n    <span class=\"n\">provider</span> <span class=\"o\">=</span> <span class=\"s2\">\"azure\"</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"n\">dns_challenge</span> <span class=\"p\">{</span>\n    <span class=\"n\">provider</span> <span class=\"o\">=</span> <span class=\"s2\">\"gcloud\"</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"n\">dns_challenge</span> <span class=\"p\">{</span>\n    <span class=\"n\">provider</span> <span class=\"o\">=</span> <span class=\"s2\">\"route53\"</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"c1\">#...</span>\n<span class=\"p\">}</span>\n</code></pre></div>", "elementType": "div"}, {"name": "", "description": "<p>Some considerations need to be kept in mind when using multiple providers:</p>", "elementType": "p"}, {"name": "You cannot use more than one provider of the same type at once.\n", "description": "<li>You cannot use more than one provider of the same type at once.\n</li>", "elementType": "li", "listDepth": 1}, {"name": "Your NS records must be correctly configured so that each DNS challenge\nprovider can correctly discover the appropriate zone to update.\n", "description": "<li>Your NS records must be correctly configured so that each DNS challenge\nprovider can correctly discover the appropriate zone to update.\n</li>", "elementType": "li", "listDepth": 1}, {"name": "*_PROPAGATION_TIMEOUT", "description": "<li>DNS propagation checks are conducted once per configured common name and\nsubject alternative name, using the highest configured or default propagation\ntimeout (<code>*_PROPAGATION_TIMEOUT</code>) and polling interval (<code>*_POLLING_INTERVAL</code>)\nsettings.\n</li>", "elementType": "li", "listDepth": 1}, {"name": "relation-to-terraform-provider-configuration", "description": "<h4 id=\"relation-to-terraform-provider-configuration\">\n<a class=\"anchor\" href=\"#relation-to-terraform-provider-configuration\" name=\"relation-to-terraform-provider-configuration\">\u00bb</a>\n  Relation to Terraform provider configuration\n</h4>", "elementType": "h4"}, {"name": "", "description": "<p>The DNS provider configuration specified in the <code>acme_certificate</code> resource is\nseparate from any that you supply in a corresponding provider whose\nfunctionality overlaps with the certificate's DNS providers.  This ensures that\nthere are no hard dependencies between any of these providers and the ACME\nprovider, but it is important to note so that configuration is supplied\ncorrectly.</p>", "elementType": "p"}, {"name": "", "description": "<p>As an example, if you specify manual configuration for the <a href=\"/docs/providers/aws/index.html\">AWS\nprovider</a> via the <a href=\"/docs/configuration/providers.html\"><code>provider</code></a> block instead of\nthe environment, you will still need to supply the configuration explicitly as\nper above.</p>", "elementType": "p"}, {"name": "", "description": "<p>Some of these providers have environment variable settings that overlap with\nthe ones found here, generally depending on whether or not these variables are\nsupported by the corresponding provider's SDK.</p>", "elementType": "p"}, {"name": "", "description": "<p>Check the <a href=\"/docs/providers/acme/dns_providers/index.html\">DNS provider page</a> of a specific provider\nfor more details on exactly what variables are supported.</p>", "elementType": "p"}, {"name": "certificate-renewal", "description": "<h2 id=\"certificate-renewal\">\n<a class=\"anchor\" href=\"#certificate-renewal\" name=\"certificate-renewal\">\u00bb</a>\n  Certificate renewal\n</h2>", "elementType": "h2"}, {"name": "", "description": "<p>The <code>acme_certificate</code> resource handles automatic certificate renewal so long\nas a plan or apply is done within the number of days specified in the\n<a href=\"#min_days_remaining\"><code>min_days_remaining</code></a> resource parameter. During refresh,\nif Terraform detects that the certificate is within the expiry range specified\nin <code>min_days_remaining</code>, or is already expired, Terraform will mark the\ncertificate to be renewed on the next apply.</p>", "elementType": "p"}, {"name": "", "description": "<p>Note that a value less than <code>0</code> supplied to <code>min_days_remaining</code> will cause\nrenewal checks to be bypassed, and the certificate will never renew.</p>", "elementType": "p"}], "docsUrl": "https://www.terraform.io/docs/providers/acme/r/certificate.html", "docType": ""}
]
